<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ElectroMagSimulator.ViewModels"
        xmlns:views="using:ElectroMagSimulator.Views"
        xmlns:conv="clr-namespace:ElectroMagSimulator.Converters"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="ElectroMagSimulator.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="ElectroMagSimulator"
        Background="WhiteSmoke">

	<Design.DataContext>
		<vm:MainWindowViewModel />
	</Design.DataContext>

	<Window.Resources>
		<conv:InverseBooleanConverter x:Key="InverseBooleanConverter" />
	</Window.Resources>

	<DockPanel>

		<!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
		<Border DockPanel.Dock="Top" Background="#E0F2F1" Height="40">
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0" Spacing="20">
				<TextBlock Text="ElectroMagSimulator" FontWeight="Bold" FontSize="16" VerticalAlignment="Center" />
				<Button Content="Ð¤Ð°Ð¹Ð»" Background="Transparent" BorderBrush="Transparent" />
				<Button Content="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" Background="Transparent" BorderBrush="Transparent" />
				<Button Content="ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ" Background="Transparent" BorderBrush="Transparent" />
			</StackPanel>
		</Border>

		<!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ -->
		<Grid ColumnDefinitions="300,*">

			<!-- Ð›ÐµÐ²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
			<Border Background="White" BorderBrush="LightGray" BorderThickness="0,0,1,0">
				<ScrollViewer>
					<StackPanel Margin="10" Spacing="12">

						<TextBlock Text="ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð·Ð°Ð´Ð°Ñ‡Ð¸" FontWeight="Bold" FontSize="14" Margin="0,0,0,5" />

						<TextBlock Text="Ð¢Ð¸Ð¿ Ð·Ð°Ð´Ð°Ñ‡Ð¸:" />
						<ComboBox SelectedItem="{Binding SelectedMode}">
							<ComboBoxItem Content="Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾ÑÑ‚Ð°Ñ‚Ð¸ÐºÐ°" />
							<ComboBoxItem Content="ÐœÐ°Ð³Ð½Ð¸Ñ‚Ð¾ÑÑ‚Ð°Ñ‚Ð¸ÐºÐ°" />
						</ComboBox>

						<TextBlock Text="Ð Ð°Ð·Ð¼ÐµÑ€ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸" FontWeight="Bold" FontSize="13" Margin="0,10,0,0" />
						<TextBlock Text="Ð¨Ð¸Ñ€Ð¸Ð½Ð°:" />
						<TextBox Text="{Binding AreaWidth}" />
						<TextBlock Text="Ð’Ñ‹ÑÐ¾Ñ‚Ð°:" />
						<TextBox Text="{Binding AreaHeight}" />

						<TextBlock Text="Ð¡ÐµÑ‚ÐºÐ°" FontWeight="Bold" FontSize="13" Margin="0,10,0,0" />
						<ComboBox ItemsSource="{Binding GridTypes}" SelectedItem="{Binding SelectedGridType}" />

						<StackPanel IsVisible="{Binding IsUniformGrid}">
							<TextBlock Text="Ð¨Ð°Ð³ Ð¿Ð¾ X:" />
							<TextBox Text="{Binding StepX}" />
							<TextBlock Text="Ð¨Ð°Ð³ Ð¿Ð¾ Y:" />
							<TextBox Text="{Binding StepY}" />
						</StackPanel>

						<StackPanel IsVisible="{Binding IsUniformGrid, Converter={StaticResource InverseBooleanConverter}}">
							<TextBlock Text="Ð¨Ð°Ð³Ð¸ Ð¿Ð¾ X (Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚ÑƒÑŽ):" />
							<TextBox Text="{Binding CustomStepsX}" />
							<TextBlock Text="Ð¨Ð°Ð³Ð¸ Ð¿Ð¾ Y (Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚ÑƒÑŽ):" />
							<TextBox Text="{Binding CustomStepsY}" />
						</StackPanel>

						<TextBlock Text="Ð¤Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð°" FontWeight="Bold" FontSize="13" Margin="0,10,0,0" />
						<TextBlock Text="Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº (Ï Ð¸Ð»Ð¸ J):" />
						<TextBox Text="{Binding SourceValue}" />
						<TextBlock Text="ÐŸÑ€Ð¾Ð½Ð¸Ñ†Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ (Îµ Ð¸Ð»Ð¸ Î¼):" />
						<TextBox Text="{Binding MaterialProperty}" />

						<TextBlock Text="Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" FontWeight="Bold" FontSize="13" Margin="0,10,0,0" />
						<Button Content="âš™ ÐŸÐ¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ ÑÐµÑ‚ÐºÑƒ" Command="{Binding BuildGridCommand}" Margin="0,5,0,0" />
						<Button Content="âž¡ Ð ÐµÑˆÐ¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ" Command="{Binding SolveCommand}" Margin="0,5,0,0" />
						<Button Content="ðŸ—‘ ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ" Command="{Binding ClearCommand}" Margin="0,5,0,0" />

					</StackPanel>
				</ScrollViewer>
			</Border>

			<!-- ÐžÐ±Ð»Ð°ÑÑ‚ÑŒ Ð²Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ -->
			<Grid Grid.Column="1" Margin="10">

				<views:DrawingCanvas x:Name="DrawingCanvas" />

				<Border Background="#E0F2F1" CornerRadius="5" Padding="5"
        HorizontalAlignment="Right" VerticalAlignment="Top" Margin="10"
        BorderBrush="Gray" BorderThickness="1" Opacity="0.95">
					<StackPanel Orientation="Horizontal" Spacing="5">

						<Button Width="40" Height="40">
							<Image Source="avares://ElectroMagSimulator/Assets/Icons/zoom-in.png"
								   Width="24" Height="24" Stretch="Uniform"/>
						</Button>

						<Button Width="40" Height="40">
							<Image Source="avares://ElectroMagSimulator/Assets/Icons/zoom-out.png"
								   Width="24" Height="24" Stretch="Uniform"/>
						</Button>

						<Button Width="40" Height="40">
							<Image Source="avares://ElectroMagSimulator/Assets/Icons/switch.png"
								   Width="24" Height="24" Stretch="Uniform"/>
						</Button>

						<Button Width="40" Height="40">
							<Image Source="avares://ElectroMagSimulator/Assets/Icons/content.png"
								   Width="24" Height="24" Stretch="Uniform"/>
						</Button>

					</StackPanel>
				</Border>


				<TextBlock x:Name="CoordLabel"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Bottom"
                           Margin="10"
                           Foreground="Gray"
                           FontSize="12" />

			</Grid>
		</Grid>
	</DockPanel>
</Window>
